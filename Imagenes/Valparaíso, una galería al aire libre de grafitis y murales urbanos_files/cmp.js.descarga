var sas=window.sas||{};sas.utils=sas.utils||{},sas.events=sas.events||{},sas.cmp=sas.cmp||{},sas.consent=sas.consent||{},sas.debugMode=sas.debugMode||{},sas.debugMode.logsQueue=sas.debugMode.logsQueue||[],sas.debugMode.bannersQueue=sas.debugMode.bannersQueue||[],function(){var e=window.sas;Date.now||(Date.now=function(){return(new Date).getTime()}),e.utils.extend=function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];if(n&&"object"==typeof n)for(var a in n)void 0!==n[a]&&(Array.isArray(n[a])?t[a]=n[a]:"object"==typeof n[a]?t[a]=e.utils.extend({},t[a],n[a]):t[a]=n[a])}return t},e.utils.Latch=function(e){for(var t=[],s={},n=e=e||[],a=!1,i=0;i<n.length;i++)s[e[i]]={};var o=function(){if(!a){for(var e in s)if(!s[e].status)return;a=!0;for(var n=l(),i=0;i<t.length;i++)t[i].apply(this,n)}},l=function(){for(var e=[],t=0;t<n.length;t++)e.push(s[n[t]].result);return e};this.isComplete=function(){return a},this.notify=function(e,t){s[e]&&(s[e].status=!0,s[e].result=t,o())},this.addListener=function(e){null!=e&&(a?e():t.push(e))},o()},e.utils.getIEVersion=function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1]):void 0};var t=null;e.utils.checkIfLocalStorageAvailable=function(){if(null==t)try{if("undefined"!=typeof localStorage){const e="smartadserver_feature_test";localStorage.setItem(e,"1"),"1"===localStorage.getItem(e)?(localStorage.removeItem(e),t=!0):t=!1}else t=!1}catch(e){t=!1}return t},e.utils.getLocalStorageItemSafely=function(t){return e.utils.checkIfLocalStorageAvailable()?window.localStorage.getItem(t):null},e.utils.removeLocalStorageItemSafely=function(t){return!!e.utils.checkIfLocalStorageAvailable()&&(window.localStorage.removeItem(t),!0)},e.utils.setLocalStorageItemSafely=function(t,s){return!!e.utils.checkIfLocalStorageAvailable()&&(window.localStorage.setItem(t,s),!0)},e.utils.isAddtlConsentBlocked=function(){return void 0!==window.sas_blockAddtlConsent&&!!window.sas_blockAddtlConsent},e.events.addEvent=function(e,t,s){if(e&&t&&s)return e.attachEvent?e.attachEvent("on"+t,s):e.addEventListener&&e.addEventListener(t,s,!1),{removeEvent:function(){e.detachEvent?e.detachEvent("on"+t,s):e.removeEventListener&&e.removeEventListener(t,s,!1)}}},e.events.addLoadEvent=function(t,s){if(t&&s){var n="load",a=function(){return!0};(e.utils.getIEVersion()<11||t==document)&&(n="readystatechange",a=function(){if(!t.readyState||"complete"==t.readyState||"loaded"==t.readyState)return!0});var i=e.events.addEvent(t,n,(function(){a()&&(i.removeEvent(),s.apply(this,arguments))}))}},e.events.addMessageEvent=function(t,s){t&&s&&e.events.addEvent(t,"message",(function(){s.apply(this,arguments)}))},e.events._events=e.events._events||{},e.events._history=e.events._history||[],e.events.on=function(t,s,n){e.events._events[t]=e.events._events[t]||{que:[]};var a=e.events._events[t];n&&(a=a[n]=a[n]||{que:[]}),a.que.push(s)},e.events.fire=function(t,s,n){e.events._history.push({eventName:t,data:e.utils.extend({timestamp:Date.now()},s),id:n});var a=e.events._events[t];if(a){var i;if(n&&a[n])for(i=0;i<a[n].que.length;i++)a[n].que[i](e.utils.extend({},s),n);for(i=0;i<a.que.length;i++)a.que[i](e.utils.extend({},s),n)}},e.events.off=function(t,s,n){var a=e.events._events[t];if(a){var i=a.que;if(n&&(i=a[n].que),i){var o=i.indexOf(s);o>=0&&i.splice(o,1)}}},e.events.history=function(t){for(var s=[],n=0;n<e.events._history.length;n++){var a=e.events._history[n];t&&a.eventName!=t||s.push(e.utils.extend({},a))}return s}}(),(()=>{"use strict";var e={129:function(e,t,s){var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(a,i){function o(e){try{r(n.next(e))}catch(e){i(e)}}function l(e){try{r(n.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,l)}r((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SasIabApi=void 0;const a=s(89);class i{constructor(e,t){this.apiWasFound=!1,this.apiAnsweredOk=!1,this.eventMessageListenerAdded=!1,this.apiCallbacks={},this.myCmpCallbackFinished=void 0,this.maxSearchRetry=50,this.doubleCallbackTime=10,this.retryNumber=0,this.retryInterval=0,this.name=e.name,this.sasCookieName=e.sasCookieName,this.sasAddtlCookieName=e.sasAddtlCookieName,this.version=e.version,this.getConsentFunction=e.getConsentFunction,this.apiFunctionName=e.apiFunctionName,this.consentObjectConsentDataName=e.consentObjectConsentDataName,this.consentObjectAdditionalConsentDataName=e.consentObjectAdditionalConsentDataName,this.apiLocator=e.apiLocator,this.sentMessage=e.sentMessage,this.postMessageReturnObjectName=e.postMessageReturnObjectName,t&&(this.myCmpCallbackFinished=()=>t()),this.lastCallbackResult={id:"",addtlConsent:"",eventStatus:"",gdprApplies:void 0,timeStamp:0,vendor:{consents:{},legitimateInterests:{}}}}get gdprApplies(){return this._gdprApplies}cmpCallback(e,t){var s;if(!t||!e||void 0===e[this.consentObjectConsentDataName]||null===e[this.consentObjectConsentDataName])return void window.sas.events.fire("ApiAnswered Wrong answer",{consent:e,success:t,failType:"Wrong answer",version:this.version},this.name);this.apiAnsweredOk=!0,this._gdprApplies=e.gdprApplies;const n={consentObject:e,name:this.consentObjectConsentDataName};if(e[this.consentObjectConsentDataName]&&window.sas.utils.setLocalStorageItemSafely(this.sasCookieName,e[this.consentObjectConsentDataName]),this.consentObjectAdditionalConsentDataName&&e[this.consentObjectAdditionalConsentDataName]&&this.sasAddtlCookieName){let t=e[this.consentObjectAdditionalConsentDataName];Array.isArray(t)&&(t=JSON.stringify(t)),window.sas.utils.setLocalStorageItemSafely(this.sasAddtlCookieName,t),n.additionalConsent=this.consentObjectAdditionalConsentDataName}window.sas.events.fire("ApiAnswered Valid answer",n,this.name),null===(s=this.myCmpCallbackFinished)||void 0===s||s.call(this)}callApiLocal(){return n(this,void 0,void 0,(function*(){const e=window[this.apiFunctionName];if(void 0!==e&&"[object Function]"===Object.prototype.toString.call(e)){if(this.apiWasFound=!0,window.sas.events.fire("ApiCalled",{location:"Same Iframe",version:this.version},this.name),"__gpp"===this.apiFunctionName){const t=()=>{const t=e("getGPPData");this.cmpCallback(t,null!=t)},s=Number((yield(0,a.betterGpp)("ping")).gppVersion||1);s<1.1&&t(),e(this.getConsentFunction,(e=>{s<1.1?t():this.cmpCallback(null==e?void 0:e.pingData,null!=(null==e?void 0:e.pingData))}))}else e(this.getConsentFunction,this.version,((e,t)=>{this.cmpCallback(e,t)}));return!0}return!1}))}callApiInFrame(){let e,t=window;for(;!e;){try{t.frames[this.apiLocator]&&(e=t)}catch(e){}if(t===window.top)break;t=t.parent}if(e){this.apiWasFound=!0,window.sas.events.fire("ApiFrameFound",{version:this.version},this.name);const t=(t,s,n)=>{const a="smartjs"+Math.random();this.apiCallbacks[a]=n,this.sendPostMessage(t,s,a,e)};if(this.eventMessageListenerAdded||(window.sas.events.addEvent(window,"message",(e=>{this.readPostMessageResponse(e)})),this.eventMessageListenerAdded=!0),window.sas.events.fire("ApiCalled",{location:"Different iframe",version:this.version},this.name),"__gpp"===this.apiFunctionName){const s="smartjsPing"+Math.random();this.apiCallbacks[s]=e=>{var s,n;((null===(s=e.returnValue)||void 0===s?void 0:s.gppVersion)?Number(null===(n=e.returnValue)||void 0===n?void 0:n.gppVersion):1)<1.1&&t("getGPPData",void 0,((e,t)=>{this.cmpCallback(e,t)}))},this.sendPostMessage("ping",null,s,e)}return t(this.getConsentFunction,void 0,((e,t)=>{this.cmpCallback(e,t)})),!0}return!1}sendPostMessage(e,t,s,n){const a={};a[this.sentMessage]={command:e,parameter:t,callId:s,version:this.version},null==n||n.postMessage(a,"*")}readPostMessageResponse(e){const t="string"==typeof e.data&&-1!==e.data.indexOf(this.postMessageReturnObjectName)?JSON.parse(e.data):e.data;if(t[this.postMessageReturnObjectName]){const s=t[this.postMessageReturnObjectName];"function"!=typeof this.apiCallbacks[s.callId]||this.isCallbackDouble(s.callId,e)||(this.assignLastCallback(s.callId,e),this.apiCallbacks[s.callId](s.returnValue,s.success,this.version))}}isCallbackDouble(e,t){var s,n,a;let i=!1;const o=null===(n=null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.__tcfapiReturn)||void 0===n?void 0:n.returnValue;return e===this.lastCallbackResult.id&&(null==t?void 0:t.timeStamp)-this.lastCallbackResult.timeStamp<this.doubleCallbackTime&&this.lastCallbackResult.addtlConsent===(null==o?void 0:o.addtlConsent)&&this.lastCallbackResult.eventStatus===(null==o?void 0:o.eventStatus)&&this.lastCallbackResult.gdprApplies===(null==o?void 0:o.gdprApplies)&&JSON.stringify(this.lastCallbackResult.vendor.consents)===JSON.stringify(null===(a=null==o?void 0:o.vendor)||void 0===a?void 0:a.consents)&&(i=!0),i}assignLastCallback(e,t){var s,n;const a=null===(n=null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.__tcfapiReturn)||void 0===n?void 0:n.returnValue;this.lastCallbackResult.id=e,this.lastCallbackResult.addtlConsent=null==a?void 0:a.addtlConsent,this.lastCallbackResult.eventStatus=null==a?void 0:a.eventStatus,this.lastCallbackResult.gdprApplies=null==a?void 0:a.gdprApplies,this.lastCallbackResult.timeStamp=null==t?void 0:t.timeStamp,(null==a?void 0:a.vendor)&&(this.lastCallbackResult.vendor=Object.assign({},null==a?void 0:a.vendor))}tryCallApi(e){return n(this,void 0,void 0,(function*(){(yield this.callApiLocal())||(e%10==0&&window.sas.events.fire("ApiNotFoundInFrame",{retryNumber:e},this.name),this.callApiInFrame())}))}searchApiInterval(){return n(this,void 0,void 0,(function*(){this.apiWasFound&&this.apiAnsweredOk||(this.retryNumber%10==0&&window.sas.events.fire("ApiSearch",{retryNumber:this.retryNumber},this.name),yield this.tryCallApi(this.retryNumber)),(this.retryNumber>this.maxSearchRetry||this.apiWasFound&&this.apiAnsweredOk)&&clearInterval(this.retryInterval),this.retryNumber++}))}searchApi(){this.retryInterval=window.setInterval((()=>{this.searchApiInterval()}),500),this.searchApiInterval()}}t.SasIabApi=i,window.SasIabApi=i},89:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.betterGpp=void 0,t.betterGpp=function(e,t){return new Promise((s=>{const n=window.__gpp(e,((e,t)=>{t&&s(e)}),t);void 0!==n&&s(n)}))}}},t={};(function s(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,s),i.exports})(129)})();